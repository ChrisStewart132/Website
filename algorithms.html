<html>
    <head>
        <link rel="icon" href="images/favicon.ico" type="image/x-icon">
        <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
        <!-- Include the Highlight.js CSS file -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
        <!-- Include the Highlight.js JavaScript file -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <link rel="stylesheet" href="styles/styles.css">
        <link rel="stylesheet" href="styles/side_navbar.css">
        <title>ALGORITHMS</title>
        <style>
            main > div{
                border: 1px solid white;
                margin: 20 20% 40 20%;
                padding: 20px;
            }
            pre {
                display: block;
                text-align: left;
                margin: 10 13% 10 13%;
                white-space: pre-wrap;
            }
            h1{
                border: 0px solid white;
            }
            h1:hover{
                background-color: white;
                color: black;
            }
            .hljs {
                background: none; /* Ignore the background applied by Highlight.js */
            }
        </style>
    </head>
    <body>
        <navbar>
            <a href="index.html" id="home">HOME</a>
        </navbar>
        <div class="sideNavBar">
            <a href="#home">HOME</a>
            <a href="#selectionSort">SELECTION SORT</a>
            <a href="#insertionSort">INSERTION SORT</a>
            <a href="#countingSort">COUNTING SORT</a>
            <a href="#mergeSort">MERGE SORT</a>
            <a href="#quickSort">QUICK SORT</a>
            <a href="#heapSort">HEAP SORT</a>
            <a href="#treeSort">TREE SORT</a>
            <a href="#binarySearch">BINARY SEARCH</a>
            <a href="#stack">STACK</a>
            <a href="#priorityQueue">PRIORITY QUEUE</a>
            <a href="#backTracking">BACKTRACKING</a>
            <a href="#treeTraversal">TREE TRAVERSAL</a>
            <a href="#expressionTree">EXPRESSION TREE</a>
            <a href="#binarySearchTree">BINARY SEARCH TREE (BST)</a>
            <a href="#quadTree">QUAD TREE</a>
            <a href="#kdTree">K-DIMENSIONAL TREE</a>
            
        </div>
        <main>
            <div id="selectionSort">            
                <h1 onclick="showCode(this)">SELECTION SORT</h1>
                <pre><code class="c"></code></pre>
            </div>
        
            <div id="insertionSort">
                <h1 onclick="showCode(this)">INSERTION SORT</h1>
                <pre><code></code></pre>
            </div>

            <div id="countingSort">
                <h1 onclick="showCode(this)">COUNTING SORT</h1>
                <pre><code></code></pre>
            </div>

            <div id="mergeSort">
                <h1 onclick="showCode(this)">MERGE SORT</h1>
                <pre><code></code></pre>
            </div>

            <div id="quickSort">
                <h1 onclick="showCode(this)">QUICK SORT</h1>
                <pre><code></code></pre>
            </div>

            <div id="heapSort">
                <h1 onclick="showCode(this)">HEAP SORT</h1>
                <pre><code></code></pre>
            </div>
            <div id="treeSort">
                <h1 onclick="showCode(this)">TREE SORT</h1>
                <pre><code></code></pre>
            </div>
            <div id="binarySearch">
                <h1 onclick="showCode(this)">BINARY SEARCH</h1>
                <pre><code></code></pre>
            </div>
            <div id="stack">
                <h1 onclick="showCode(this)">STACK</h1>
                <pre><code></code></pre>
            </div>
            <div id="priorityQueue">
                <h1 onclick="showCode(this)">PRIORITY QUEUE</h1>
                <pre><code></code></pre>
            </div>
            <div id="backTracking">
                <h1 onclick="showCode(this)">BACK-TRACKING</h1>
                <pre><code></code></pre>
            </div>
            <div id="treeTraversal">
                <h1 onclick="showCode(this)">TREE-TRAVERSAL</h1>
                <pre><code></code></pre>
            </div>
            <div id="expressionTree">
                <h1 onclick="showCode(this)">EXPRESSION TREE</h1>
                <pre><code></code></pre>
            </div>
            <div id="binarySearchTree">
                <h1 onclick="showCode(this)">BINARY SEARCH TREE (BST)</h1>
                <pre><code></code></pre>
            </div>
            <div id="quadTree">
                <h1 onclick="showCode(this)">QUAD TREE</h1>
                <pre><code></code></pre>
            </div>
            <div id="kdTree">
                <h1 onclick="showCode(this)">K-DIMENSIONAL TREE</h1>
                <pre><code></code></pre>
            </div>

            <div style="height: 1000px; border: none;">
            </div>
        </main>


        <script src="scripts/side_navbar.js"></script>
        <script>
            fetchSourceCode()
            async function fetchFile(fileName) {
                console.log(`fetching ${fileName}`)
                try {
                    const response = await fetch(`Content/Code/${fileName}`);
                    if (!response.ok) {
                        throw new Error('Failed to fetch file');
                    }
                    const fileContent = await response.text();
                    //console.log('File content:', fileContent);
                    return fileContent;
                } catch (error) {
                    console.error('Error:', error.message);
                }
            }
            function fetchSourceCode(){
                const main = document.querySelector(`main`)
                const divs = main.children
                for(const div of divs){
                    if(div.id){
                        fetchFile(`${div.id}.c`).then(data => {
                            const codeElement = div.querySelector(`pre code`)
                            codeElement.textContent = data;
                            //<!-- Initialize Highlight.js -->
                            hljs.highlightElement(codeElement);
                            codeElement.se
                        })
                    }
                }
            }

            // toggle main>div>pre code visibility
            function showCode(header){
                const parentDiv = header.parentNode;
                const pre = parentDiv.querySelector("pre")
                if(pre.style.display === 'block' || pre.style.display === ''){
                    pre.style.display = 'none'
                }else{
                    pre.style.display = 'block'
                }
            }
        </script>
    </body>
</html>